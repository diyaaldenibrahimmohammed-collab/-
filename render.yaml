# Render.com Configuration File
# https://render.com/docs/yaml-spec

services:
  # WhatsApp Bot Web Service
  - type: web
    name: whatsapp-bot
    env: docker
    region: frankfurt  # أو أقرب منطقة لك
    plan: free
    
    # Build settings
    dockerfilePath: ./Dockerfile
    dockerContext: .
    
    # Health check
    healthCheckPath: /status
    
    # Environment variables
    envVars:
      - key: NODE_ENV
        value: production
      
      - key: PORT
        value: 10000
      
      - key: CHROME_PATH
        value: /usr/bin/google-chrome-stable
      
      - key: PUPPETEER_SKIP_CHROMIUM_DOWNLOAD
        value: true
      
      - key: PUPPETEER_EXECUTABLE_PATH
        value: /usr/bin/google-chrome-stable
      
      # هذه القيم يجب إضافتها يدوياً في Render Dashboard
      # لأنها حساسة ولا يجب وضعها في الكود
      # - key: MONGODB_URI
      #   sync: false  # سيتم إضافتها يدوياً
      
      # - key: API_KEY
      #   sync: false  # سيتم إضافتها يدوياً
    
    # Auto-deploy settings
    autoDeploy: true
    
    # Branch to deploy from
    branch: main
